"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./lib/calculations.ts":
/*!*****************************!*\
  !*** ./lib/calculations.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CONSTANTS: function() { return /* binding */ CONSTANTS; },\n/* harmony export */   POLICY_OPTIONS: function() { return /* binding */ POLICY_OPTIONS; },\n/* harmony export */   calculateAspirationBand: function() { return /* binding */ calculateAspirationBand; },\n/* harmony export */   calculateEmployerCeiling: function() { return /* binding */ calculateEmployerCeiling; },\n/* harmony export */   calculateNashSolution: function() { return /* binding */ calculateNashSolution; },\n/* harmony export */   calculateNegotiationPlan: function() { return /* binding */ calculateNegotiationPlan; },\n/* harmony export */   calculateUtilityFloors: function() { return /* binding */ calculateUtilityFloors; },\n/* harmony export */   calculateWorkerAnchor: function() { return /* binding */ calculateWorkerAnchor; },\n/* harmony export */   calculateWorkerWalkAway: function() { return /* binding */ calculateWorkerWalkAway; },\n/* harmony export */   calculateZOPA: function() { return /* binding */ calculateZOPA; },\n/* harmony export */   generateChartData: function() { return /* binding */ generateChartData; },\n/* harmony export */   utilityEmployer: function() { return /* binding */ utilityEmployer; },\n/* harmony export */   utilityWorker: function() { return /* binding */ utilityWorker; }\n/* harmony export */ });\n// 常量定义\nconst CONSTANTS = {\n    base: 2500,\n    w_E_ideal: 2500,\n    w_E_max: 8000,\n    w_W_min: 3500,\n    w_W_ideal: 8000,\n    feasible_min: 3500,\n    feasible_max: 8000,\n    grid_step: 50,\n    employer_fallback_cost_money: 6000,\n    worker_fallback_income_money: 2490\n};\n// 政策情景映射\nconst POLICY_OPTIONS = [\n    {\n        label: \"一般保护（市场主导）\",\n        value: \"market\",\n        beta: 0.48\n    },\n    {\n        label: \"中度保护（偏向工人）\",\n        value: \"moderate\",\n        beta: 0.42\n    },\n    {\n        label: \"较强保护（集体谈判）\",\n        value: \"strong\",\n        beta: 0.35\n    },\n    {\n        label: \"强保护（强工会/强监管）\",\n        value: \"strongest\",\n        beta: 0.28\n    }\n];\n// 夹逼函数\nfunction clamp(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n// 四舍五入到最近的步长\nfunction roundToStep(value, step) {\n    return Math.round(value / step) * step;\n}\n// 计算Plan B映射的效用底线\nfunction calculateUtilityFloors(negotiationBreakdownCost, localMinimumWage, workerIdeal, workerMinimum) {\n    const { w_E_ideal } = CONSTANTS;\n    // 使用动态参数或默认值\n    const w_E_max = negotiationBreakdownCost || CONSTANTS.w_E_max;\n    const employer_fallback_cost = negotiationBreakdownCost || CONSTANTS.employer_fallback_cost_money;\n    const worker_fallback_income = localMinimumWage || CONSTANTS.worker_fallback_income_money;\n    const w_W_min = workerMinimum || CONSTANTS.w_W_min;\n    const w_W_ideal = workerIdeal || CONSTANTS.w_W_ideal;\n    const uE0_raw = 0.1 + 0.9 * (w_E_max - employer_fallback_cost) / (w_E_max - w_E_ideal);\n    const uW0_raw = 0.1 + 0.9 * (worker_fallback_income - w_W_min) / (w_W_ideal - w_W_min);\n    const u_E0 = clamp(uE0_raw, 0.1, 0.9);\n    const u_W0 = clamp(uW0_raw, 0.1, 0.9);\n    return {\n        u_E0,\n        u_W0\n    };\n}\n// 雇主效用函数\nfunction utilityEmployer(w, negotiationBreakdownCost) {\n    const { w_E_ideal } = CONSTANTS;\n    const w_E_max = negotiationBreakdownCost || CONSTANTS.w_E_max;\n    return clamp(0.1 + 0.9 * (w_E_max - w) / (w_E_max - w_E_ideal), 0, 1);\n}\n// 工人效用函数\nfunction utilityWorker(w, workerIdeal, workerMinimum) {\n    const w_W_min = workerMinimum || CONSTANTS.w_W_min;\n    const w_W_ideal = workerIdeal || CONSTANTS.w_W_ideal;\n    return clamp(0.1 + 0.9 * (w - w_W_min) / (w_W_ideal - w_W_min), 0, 1);\n}\n// Nash谈判解\nfunction calculateNashSolution(beta, u_E0, u_W0, negotiationBreakdownCost, workerIdeal, workerMinimum) {\n    const { feasible_min, grid_step } = CONSTANTS;\n    // 动态调整搜索上限，考虑用户输入的参数\n    const w_E_max = negotiationBreakdownCost || CONSTANTS.w_E_max;\n    const w_W_ideal = workerIdeal || CONSTANTS.w_W_ideal;\n    const dynamicMax = Math.max(CONSTANTS.feasible_max, w_E_max, w_W_ideal);\n    let bestWage = feasible_min;\n    let maxObjective = -Infinity;\n    let hasValidSolution = false;\n    for(let w = feasible_min; w <= dynamicMax; w += grid_step){\n        const u_E = utilityEmployer(w, negotiationBreakdownCost);\n        const u_W = utilityWorker(w, workerIdeal, workerMinimum);\n        // 跳过无效区域\n        if (u_E <= u_E0 || u_W <= u_W0) continue;\n        hasValidSolution = true;\n        const objective = Math.pow(u_E - u_E0, beta) * Math.pow(u_W - u_W0, 1 - beta);\n        if (objective > maxObjective) {\n            maxObjective = objective;\n            bestWage = w;\n        } else if (objective === maxObjective) {\n            // 如果目标函数相等，选择更接近区间中点的\n            const midpoint = (feasible_min + dynamicMax) / 2;\n            if (Math.abs(w - midpoint) < Math.abs(bestWage - midpoint)) {\n                bestWage = w;\n            }\n        }\n    }\n    // 如果没有找到有效解，返回null\n    if (!hasValidSolution) {\n        return null;\n    }\n    return bestWage;\n}\n// 计算工人底线工资\nfunction calculateWorkerWalkAway(u_W0, workerIdeal, workerMinimum) {\n    const { feasible_min, feasible_max, grid_step } = CONSTANTS;\n    const w_W_min = workerMinimum || CONSTANTS.w_W_min;\n    const w_W_ideal = workerIdeal || CONSTANTS.w_W_ideal;\n    const w_WA_raw = w_W_min + (u_W0 - 0.1) / 0.9 * (w_W_ideal - w_W_min);\n    const w_WA_clamped = clamp(w_WA_raw, feasible_min, feasible_max);\n    return roundToStep(w_WA_clamped, grid_step);\n}\n// 计算雇主无差异上限\nfunction calculateEmployerCeiling(u_E0, negotiationBreakdownCost) {\n    const { w_E_ideal, feasible_min, grid_step } = CONSTANTS;\n    const w_E_max = negotiationBreakdownCost || CONSTANTS.w_E_max;\n    const w_EMP_raw = w_E_max - (u_E0 - 0.1) / 0.9 * (w_E_max - w_E_ideal);\n    // 使用动态上限，不限制在固定的feasible_max\n    const dynamicMax = Math.max(CONSTANTS.feasible_max, w_E_max);\n    const w_EMP_clamped = clamp(w_EMP_raw, feasible_min, dynamicMax);\n    return roundToStep(w_EMP_clamped, grid_step);\n}\n// 计算ZOPA\nfunction calculateZOPA(w_WA, w_EMP) {\n    const { feasible_min } = CONSTANTS;\n    const zopa_min = Math.max(feasible_min, w_WA);\n    // 不限制ZOPA上限在固定的feasible_max，允许根据w_EMP动态调整\n    const zopa_max = w_EMP;\n    return {\n        min: zopa_min,\n        max: zopa_max,\n        valid: zopa_min <= zopa_max\n    };\n}\n// 计算工人锚点价格\nfunction calculateWorkerAnchor(w_nash, w_EMP) {\n    const { grid_step } = CONSTANTS;\n    const w_anchor_raw = Math.min(w_nash + 0.08 * (w_EMP - w_nash), w_EMP);\n    return roundToStep(w_anchor_raw, grid_step);\n}\n// 计算期望区间\nfunction calculateAspirationBand(w_nash, w_WA, w_EMP) {\n    const { grid_step } = CONSTANTS;\n    const w_top_raw = Math.min(w_nash + 0.15 * (w_EMP - w_WA), w_EMP);\n    const w_floor_raw = Math.max(w_WA, w_nash - 0.05 * (w_nash - w_WA));\n    return {\n        top: roundToStep(w_top_raw, grid_step),\n        floor: roundToStep(w_floor_raw, grid_step)\n    };\n}\n// 主计算函数\nfunction calculateNegotiationPlan(policyValue, customAsk, negotiationBreakdownCost, localMinimumWage, workerIdeal, workerMinimum) {\n    const policy = POLICY_OPTIONS.find((p)=>p.value === policyValue) || POLICY_OPTIONS[2];\n    const beta = policy.beta;\n    const { u_E0, u_W0 } = calculateUtilityFloors(negotiationBreakdownCost, localMinimumWage, workerIdeal, workerMinimum);\n    const w_WA = calculateWorkerWalkAway(u_W0, workerIdeal, workerMinimum);\n    const w_EMP = calculateEmployerCeiling(u_E0, negotiationBreakdownCost);\n    const zopa = calculateZOPA(w_WA, w_EMP);\n    const w_nash = calculateNashSolution(beta, u_E0, u_W0, negotiationBreakdownCost, workerIdeal, workerMinimum);\n    // 检查是否有Nash解\n    if (w_nash === null) {\n        return {\n            policy,\n            beta,\n            u_E0,\n            u_W0,\n            w_nash: null,\n            w_anchor: null,\n            w_WA,\n            w_EMP,\n            zopa,\n            aspirationBand: null,\n            coefficients: {\n                c_nash: null,\n                c_anchor: null,\n                c_ask: customAsk ? customAsk / CONSTANTS.base : undefined\n            },\n            customAsk,\n            hasValidSolution: false,\n            errorMessage: \"工资期望过高，雇主效用不足，Nash解不存在\"\n        };\n    }\n    const w_anchor = calculateWorkerAnchor(w_nash, w_EMP);\n    const aspirationBand = calculateAspirationBand(w_nash, w_WA, w_EMP);\n    // 转换为加班系数\n    const c_nash = w_nash / CONSTANTS.base;\n    const c_anchor = w_anchor / CONSTANTS.base;\n    const c_ask = customAsk ? customAsk / CONSTANTS.base : undefined;\n    return {\n        policy,\n        beta,\n        u_E0,\n        u_W0,\n        w_nash,\n        w_anchor,\n        w_WA,\n        w_EMP,\n        zopa,\n        aspirationBand,\n        coefficients: {\n            c_nash,\n            c_anchor,\n            c_ask\n        },\n        customAsk,\n        hasValidSolution: true\n    };\n}\n// 生成图表数据\nfunction generateChartData(u_E0, u_W0, negotiationBreakdownCost, workerIdeal, workerMinimum) {\n    // 使用1500作为X轴单位\n    const chartStep = 1500;\n    // 从工人底线开始显示图表\n    const w_W_min = workerMinimum || CONSTANTS.w_W_min;\n    // 将起始点调整到最近的1500倍数\n    const chartMin = Math.floor(w_W_min / chartStep) * chartStep;\n    // 动态调整图表数据范围\n    const w_E_max = negotiationBreakdownCost || CONSTANTS.w_E_max;\n    const w_W_ideal = workerIdeal || CONSTANTS.w_W_ideal;\n    const dynamicMax = Math.max(CONSTANTS.feasible_max, w_E_max, w_W_ideal);\n    // 将结束点调整到最近的1500倍数\n    const chartMax = Math.ceil(dynamicMax / chartStep) * chartStep;\n    const data = [];\n    // 为了保持曲线平滑，我们仍然使用较小的步长计算数据点\n    const { grid_step } = CONSTANTS;\n    for(let w = chartMin; w <= chartMax; w += grid_step){\n        const u_E = utilityEmployer(w, negotiationBreakdownCost);\n        const u_W = utilityWorker(w, workerIdeal, workerMinimum);\n        data.push({\n            wage: w,\n            u_E,\n            u_W,\n            nashProduct: u_E > u_E0 && u_W > u_W0 ? (u_E - u_E0) * (u_W - u_W0) : 0\n        });\n    }\n    return data;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9jYWxjdWxhdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE9BQU87QUFDQSxNQUFNQSxZQUFZO0lBQ3ZCQyxNQUFNO0lBQ05DLFdBQVc7SUFDWEMsU0FBUztJQUNUQyxTQUFTO0lBQ1RDLFdBQVc7SUFDWEMsY0FBYztJQUNkQyxjQUFjO0lBQ2RDLFdBQVc7SUFDWEMsOEJBQThCO0lBQzlCQyw4QkFBOEI7QUFDaEMsRUFBRTtBQUVGLFNBQVM7QUFDRixNQUFNQyxpQkFBaUI7SUFDNUI7UUFBRUMsT0FBTztRQUFjQyxPQUFPO1FBQVVDLE1BQU07SUFBSztJQUNuRDtRQUFFRixPQUFPO1FBQWNDLE9BQU87UUFBWUMsTUFBTTtJQUFLO0lBQ3JEO1FBQUVGLE9BQU87UUFBY0MsT0FBTztRQUFVQyxNQUFNO0lBQUs7SUFDbkQ7UUFBRUYsT0FBTztRQUFnQkMsT0FBTztRQUFhQyxNQUFNO0lBQUs7Q0FDekQsQ0FBQztBQUVGLE9BQU87QUFDUCxTQUFTQyxNQUFNRixLQUFhLEVBQUVHLEdBQVcsRUFBRUMsR0FBVztJQUNwRCxPQUFPQyxLQUFLRCxHQUFHLENBQUNELEtBQUtFLEtBQUtGLEdBQUcsQ0FBQ0MsS0FBS0o7QUFDckM7QUFFQSxhQUFhO0FBQ2IsU0FBU00sWUFBWU4sS0FBYSxFQUFFTyxJQUFZO0lBQzlDLE9BQU9GLEtBQUtHLEtBQUssQ0FBQ1IsUUFBUU8sUUFBUUE7QUFDcEM7QUFFQSxrQkFBa0I7QUFDWCxTQUFTRSx1QkFBdUJDLHdCQUFpQyxFQUFFQyxnQkFBeUIsRUFBRUMsV0FBb0IsRUFBRUMsYUFBc0I7SUFDL0ksTUFBTSxFQUFFeEIsU0FBUyxFQUFFLEdBQUdGO0lBRXRCLGFBQWE7SUFDYixNQUFNRyxVQUFVb0IsNEJBQTRCdkIsVUFBVUcsT0FBTztJQUM3RCxNQUFNd0IseUJBQXlCSiw0QkFBNEJ2QixVQUFVUyw0QkFBNEI7SUFDakcsTUFBTW1CLHlCQUF5Qkosb0JBQW9CeEIsVUFBVVUsNEJBQTRCO0lBQ3pGLE1BQU1OLFVBQVVzQixpQkFBaUIxQixVQUFVSSxPQUFPO0lBQ2xELE1BQU1DLFlBQVlvQixlQUFlekIsVUFBVUssU0FBUztJQUVwRCxNQUFNd0IsVUFBVSxNQUFNLE1BQU8xQixDQUFBQSxVQUFVd0Isc0JBQXFCLElBQU14QixDQUFBQSxVQUFVRCxTQUFRO0lBQ3BGLE1BQU00QixVQUFVLE1BQU0sTUFBT0YsQ0FBQUEseUJBQXlCeEIsT0FBTSxJQUFNQyxDQUFBQSxZQUFZRCxPQUFNO0lBRXBGLE1BQU0yQixPQUFPaEIsTUFBTWMsU0FBUyxLQUFLO0lBQ2pDLE1BQU1HLE9BQU9qQixNQUFNZSxTQUFTLEtBQUs7SUFFakMsT0FBTztRQUFFQztRQUFNQztJQUFLO0FBQ3RCO0FBRUEsU0FBUztBQUNGLFNBQVNDLGdCQUFnQkMsQ0FBUyxFQUFFWCx3QkFBaUM7SUFDMUUsTUFBTSxFQUFFckIsU0FBUyxFQUFFLEdBQUdGO0lBQ3RCLE1BQU1HLFVBQVVvQiw0QkFBNEJ2QixVQUFVRyxPQUFPO0lBQzdELE9BQU9ZLE1BQU0sTUFBTSxNQUFPWixDQUFBQSxVQUFVK0IsQ0FBQUEsSUFBTS9CLENBQUFBLFVBQVVELFNBQVEsR0FBSSxHQUFHO0FBQ3JFO0FBRUEsU0FBUztBQUNGLFNBQVNpQyxjQUFjRCxDQUFTLEVBQUVULFdBQW9CLEVBQUVDLGFBQXNCO0lBQ25GLE1BQU10QixVQUFVc0IsaUJBQWlCMUIsVUFBVUksT0FBTztJQUNsRCxNQUFNQyxZQUFZb0IsZUFBZXpCLFVBQVVLLFNBQVM7SUFDcEQsT0FBT1UsTUFBTSxNQUFNLE1BQU9tQixDQUFBQSxJQUFJOUIsT0FBTSxJQUFNQyxDQUFBQSxZQUFZRCxPQUFNLEdBQUksR0FBRztBQUNyRTtBQUVBLFVBQVU7QUFDSCxTQUFTZ0Msc0JBQXNCdEIsSUFBWSxFQUFFaUIsSUFBWSxFQUFFQyxJQUFZLEVBQUVULHdCQUFpQyxFQUFFRSxXQUFvQixFQUFFQyxhQUFzQjtJQUM3SixNQUFNLEVBQUVwQixZQUFZLEVBQUVFLFNBQVMsRUFBRSxHQUFHUjtJQUNwQyxxQkFBcUI7SUFDckIsTUFBTUcsVUFBVW9CLDRCQUE0QnZCLFVBQVVHLE9BQU87SUFDN0QsTUFBTUUsWUFBWW9CLGVBQWV6QixVQUFVSyxTQUFTO0lBQ3BELE1BQU1nQyxhQUFhbkIsS0FBS0QsR0FBRyxDQUFDakIsVUFBVU8sWUFBWSxFQUFFSixTQUFTRTtJQUU3RCxJQUFJaUMsV0FBV2hDO0lBQ2YsSUFBSWlDLGVBQWUsQ0FBQ0M7SUFDcEIsSUFBSUMsbUJBQW1CO0lBRXZCLElBQUssSUFBSVAsSUFBSTVCLGNBQWM0QixLQUFLRyxZQUFZSCxLQUFLMUIsVUFBVztRQUMxRCxNQUFNa0MsTUFBTVQsZ0JBQWdCQyxHQUFHWDtRQUMvQixNQUFNb0IsTUFBTVIsY0FBY0QsR0FBR1QsYUFBYUM7UUFFMUMsU0FBUztRQUNULElBQUlnQixPQUFPWCxRQUFRWSxPQUFPWCxNQUFNO1FBRWhDUyxtQkFBbUI7UUFDbkIsTUFBTUcsWUFBWTFCLEtBQUsyQixHQUFHLENBQUNILE1BQU1YLE1BQU1qQixRQUFRSSxLQUFLMkIsR0FBRyxDQUFDRixNQUFNWCxNQUFNLElBQUlsQjtRQUV4RSxJQUFJOEIsWUFBWUwsY0FBYztZQUM1QkEsZUFBZUs7WUFDZk4sV0FBV0o7UUFDYixPQUFPLElBQUlVLGNBQWNMLGNBQWM7WUFDckMsc0JBQXNCO1lBQ3RCLE1BQU1PLFdBQVcsQ0FBQ3hDLGVBQWUrQixVQUFTLElBQUs7WUFDL0MsSUFBSW5CLEtBQUs2QixHQUFHLENBQUNiLElBQUlZLFlBQVk1QixLQUFLNkIsR0FBRyxDQUFDVCxXQUFXUSxXQUFXO2dCQUMxRFIsV0FBV0o7WUFDYjtRQUNGO0lBQ0Y7SUFFQSxtQkFBbUI7SUFDbkIsSUFBSSxDQUFDTyxrQkFBa0I7UUFDckIsT0FBTztJQUNUO0lBRUEsT0FBT0g7QUFDVDtBQUVBLFdBQVc7QUFDSixTQUFTVSx3QkFBd0JoQixJQUFZLEVBQUVQLFdBQW9CLEVBQUVDLGFBQXNCO0lBQ2hHLE1BQU0sRUFBRXBCLFlBQVksRUFBRUMsWUFBWSxFQUFFQyxTQUFTLEVBQUUsR0FBR1I7SUFDbEQsTUFBTUksVUFBVXNCLGlCQUFpQjFCLFVBQVVJLE9BQU87SUFDbEQsTUFBTUMsWUFBWW9CLGVBQWV6QixVQUFVSyxTQUFTO0lBRXBELE1BQU00QyxXQUFXN0MsVUFBVSxDQUFFNEIsT0FBTyxHQUFFLElBQUssTUFBUTNCLENBQUFBLFlBQVlELE9BQU07SUFDckUsTUFBTThDLGVBQWVuQyxNQUFNa0MsVUFBVTNDLGNBQWNDO0lBRW5ELE9BQU9ZLFlBQVkrQixjQUFjMUM7QUFDbkM7QUFFQSxZQUFZO0FBQ0wsU0FBUzJDLHlCQUF5QnBCLElBQVksRUFBRVIsd0JBQWlDO0lBQ3RGLE1BQU0sRUFBRXJCLFNBQVMsRUFBRUksWUFBWSxFQUFFRSxTQUFTLEVBQUUsR0FBR1I7SUFDL0MsTUFBTUcsVUFBVW9CLDRCQUE0QnZCLFVBQVVHLE9BQU87SUFFN0QsTUFBTWlELFlBQVlqRCxVQUFVLENBQUU0QixPQUFPLEdBQUUsSUFBSyxNQUFRNUIsQ0FBQUEsVUFBVUQsU0FBUTtJQUN0RSw2QkFBNkI7SUFDN0IsTUFBTW1DLGFBQWFuQixLQUFLRCxHQUFHLENBQUNqQixVQUFVTyxZQUFZLEVBQUVKO0lBQ3BELE1BQU1rRCxnQkFBZ0J0QyxNQUFNcUMsV0FBVzlDLGNBQWMrQjtJQUVyRCxPQUFPbEIsWUFBWWtDLGVBQWU3QztBQUNwQztBQUVBLFNBQVM7QUFDRixTQUFTOEMsY0FBY0MsSUFBWSxFQUFFQyxLQUFhO0lBQ3ZELE1BQU0sRUFBRWxELFlBQVksRUFBRSxHQUFHTjtJQUV6QixNQUFNeUQsV0FBV3ZDLEtBQUtELEdBQUcsQ0FBQ1gsY0FBY2lEO0lBQ3hDLDBDQUEwQztJQUMxQyxNQUFNRyxXQUFXRjtJQUVqQixPQUFPO1FBQ0x4QyxLQUFLeUM7UUFDTHhDLEtBQUt5QztRQUNMQyxPQUFPRixZQUFZQztJQUNyQjtBQUNGO0FBRUEsV0FBVztBQUNKLFNBQVNFLHNCQUFzQkMsTUFBYyxFQUFFTCxLQUFhO0lBQ2pFLE1BQU0sRUFBRWhELFNBQVMsRUFBRSxHQUFHUjtJQUV0QixNQUFNOEQsZUFBZTVDLEtBQUtGLEdBQUcsQ0FBQzZDLFNBQVMsT0FBUUwsQ0FBQUEsUUFBUUssTUFBSyxHQUFJTDtJQUNoRSxPQUFPckMsWUFBWTJDLGNBQWN0RDtBQUNuQztBQUVBLFNBQVM7QUFDRixTQUFTdUQsd0JBQXdCRixNQUFjLEVBQUVOLElBQVksRUFBRUMsS0FBYTtJQUNqRixNQUFNLEVBQUVoRCxTQUFTLEVBQUUsR0FBR1I7SUFFdEIsTUFBTWdFLFlBQVk5QyxLQUFLRixHQUFHLENBQUM2QyxTQUFTLE9BQVFMLENBQUFBLFFBQVFELElBQUcsR0FBSUM7SUFDM0QsTUFBTVMsY0FBYy9DLEtBQUtELEdBQUcsQ0FBQ3NDLE1BQU1NLFNBQVMsT0FBUUEsQ0FBQUEsU0FBU04sSUFBRztJQUVoRSxPQUFPO1FBQ0xXLEtBQUsvQyxZQUFZNkMsV0FBV3hEO1FBQzVCMkQsT0FBT2hELFlBQVk4QyxhQUFhekQ7SUFDbEM7QUFDRjtBQUVBLFFBQVE7QUFDRCxTQUFTNEQseUJBQXlCQyxXQUFtQixFQUFFQyxTQUFrQixFQUFFL0Msd0JBQWlDLEVBQUVDLGdCQUF5QixFQUFFQyxXQUFvQixFQUFFQyxhQUFzQjtJQUMxTCxNQUFNNkMsU0FBUzVELGVBQWU2RCxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUU1RCxLQUFLLEtBQUt3RCxnQkFBZ0IxRCxjQUFjLENBQUMsRUFBRTtJQUNyRixNQUFNRyxPQUFPeUQsT0FBT3pELElBQUk7SUFFeEIsTUFBTSxFQUFFaUIsSUFBSSxFQUFFQyxJQUFJLEVBQUUsR0FBR1YsdUJBQXVCQywwQkFBMEJDLGtCQUFrQkMsYUFBYUM7SUFFdkcsTUFBTTZCLE9BQU9QLHdCQUF3QmhCLE1BQU1QLGFBQWFDO0lBQ3hELE1BQU04QixRQUFRTCx5QkFBeUJwQixNQUFNUjtJQUM3QyxNQUFNbUQsT0FBT3BCLGNBQWNDLE1BQU1DO0lBRWpDLE1BQU1LLFNBQVN6QixzQkFBc0J0QixNQUFNaUIsTUFBTUMsTUFBTVQsMEJBQTBCRSxhQUFhQztJQUU5RixhQUFhO0lBQ2IsSUFBSW1DLFdBQVcsTUFBTTtRQUNuQixPQUFPO1lBQ0xVO1lBQ0F6RDtZQUNBaUI7WUFDQUM7WUFDQTZCLFFBQVE7WUFDUmMsVUFBVTtZQUNWcEI7WUFDQUM7WUFDQWtCO1lBQ0FFLGdCQUFnQjtZQUNoQkMsY0FBYztnQkFDWkMsUUFBUTtnQkFDUkMsVUFBVTtnQkFDVkMsT0FBT1YsWUFBWUEsWUFBWXRFLFVBQVVDLElBQUksR0FBR2dGO1lBQ2xEO1lBQ0FYO1lBQ0E3QixrQkFBa0I7WUFDbEJ5QyxjQUFjO1FBQ2hCO0lBQ0Y7SUFFQSxNQUFNUCxXQUFXZixzQkFBc0JDLFFBQVFMO0lBQy9DLE1BQU1vQixpQkFBaUJiLHdCQUF3QkYsUUFBUU4sTUFBTUM7SUFFN0QsVUFBVTtJQUNWLE1BQU1zQixTQUFTakIsU0FBUzdELFVBQVVDLElBQUk7SUFDdEMsTUFBTThFLFdBQVdKLFdBQVczRSxVQUFVQyxJQUFJO0lBQzFDLE1BQU0rRSxRQUFRVixZQUFZQSxZQUFZdEUsVUFBVUMsSUFBSSxHQUFHZ0Y7SUFFdkQsT0FBTztRQUNMVjtRQUNBekQ7UUFDQWlCO1FBQ0FDO1FBQ0E2QjtRQUNBYztRQUNBcEI7UUFDQUM7UUFDQWtCO1FBQ0FFO1FBQ0FDLGNBQWM7WUFDWkM7WUFDQUM7WUFDQUM7UUFDRjtRQUNBVjtRQUNBN0Isa0JBQWtCO0lBQ3BCO0FBQ0Y7QUFVQSxTQUFTO0FBQ0YsU0FBUzBDLGtCQUFrQnBELElBQVksRUFBRUMsSUFBWSxFQUFFVCx3QkFBaUMsRUFBRUUsV0FBb0IsRUFBRUMsYUFBc0I7SUFDM0ksZUFBZTtJQUNmLE1BQU0wRCxZQUFZO0lBQ2xCLGNBQWM7SUFDZCxNQUFNaEYsVUFBVXNCLGlCQUFpQjFCLFVBQVVJLE9BQU87SUFDbEQsbUJBQW1CO0lBQ25CLE1BQU1pRixXQUFXbkUsS0FBS2lELEtBQUssQ0FBQy9ELFVBQVVnRixhQUFhQTtJQUVuRCxhQUFhO0lBQ2IsTUFBTWpGLFVBQVVvQiw0QkFBNEJ2QixVQUFVRyxPQUFPO0lBQzdELE1BQU1FLFlBQVlvQixlQUFlekIsVUFBVUssU0FBUztJQUNwRCxNQUFNZ0MsYUFBYW5CLEtBQUtELEdBQUcsQ0FBQ2pCLFVBQVVPLFlBQVksRUFBRUosU0FBU0U7SUFDN0QsbUJBQW1CO0lBQ25CLE1BQU1pRixXQUFXcEUsS0FBS3FFLElBQUksQ0FBQ2xELGFBQWErQyxhQUFhQTtJQUNyRCxNQUFNSSxPQUF5QixFQUFFO0lBRWpDLDRCQUE0QjtJQUM1QixNQUFNLEVBQUVoRixTQUFTLEVBQUUsR0FBR1I7SUFDdEIsSUFBSyxJQUFJa0MsSUFBSW1ELFVBQVVuRCxLQUFLb0QsVUFBVXBELEtBQUsxQixVQUFXO1FBQ3BELE1BQU1rQyxNQUFNVCxnQkFBZ0JDLEdBQUdYO1FBQy9CLE1BQU1vQixNQUFNUixjQUFjRCxHQUFHVCxhQUFhQztRQUUxQzhELEtBQUtDLElBQUksQ0FBQztZQUNSQyxNQUFNeEQ7WUFDTlE7WUFDQUM7WUFDQWdELGFBQWEsTUFBTzVELFFBQVFZLE1BQU1YLE9BQVEsQ0FBQ1UsTUFBTVgsSUFBRyxJQUFNWSxDQUFBQSxNQUFNWCxJQUFHLElBQUs7UUFDMUU7SUFDRjtJQUVBLE9BQU93RDtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2xpYi9jYWxjdWxhdGlvbnMudHM/M2Y3NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDluLjph4/lrprkuYlcbmV4cG9ydCBjb25zdCBDT05TVEFOVFMgPSB7XG4gIGJhc2U6IDI1MDAsXG4gIHdfRV9pZGVhbDogMjUwMCxcbiAgd19FX21heDogODAwMCxcbiAgd19XX21pbjogMzUwMCxcbiAgd19XX2lkZWFsOiA4MDAwLFxuICBmZWFzaWJsZV9taW46IDM1MDAsXG4gIGZlYXNpYmxlX21heDogODAwMCxcbiAgZ3JpZF9zdGVwOiA1MCxcbiAgZW1wbG95ZXJfZmFsbGJhY2tfY29zdF9tb25leTogNjAwMCxcbiAgd29ya2VyX2ZhbGxiYWNrX2luY29tZV9tb25leTogMjQ5MFxufTtcblxuLy8g5pS/562W5oOF5pmv5pig5bCEXG5leHBvcnQgY29uc3QgUE9MSUNZX09QVElPTlMgPSBbXG4gIHsgbGFiZWw6IFwi5LiA6Iis5L+d5oqk77yI5biC5Zy65Li75a+877yJXCIsIHZhbHVlOiBcIm1hcmtldFwiLCBiZXRhOiAwLjQ4IH0sXG4gIHsgbGFiZWw6IFwi5Lit5bqm5L+d5oqk77yI5YGP5ZCR5bel5Lq677yJXCIsIHZhbHVlOiBcIm1vZGVyYXRlXCIsIGJldGE6IDAuNDIgfSxcbiAgeyBsYWJlbDogXCLovoPlvLrkv53miqTvvIjpm4bkvZPosIjliKTvvIlcIiwgdmFsdWU6IFwic3Ryb25nXCIsIGJldGE6IDAuMzUgfSxcbiAgeyBsYWJlbDogXCLlvLrkv53miqTvvIjlvLrlt6XkvJov5by655uR566h77yJXCIsIHZhbHVlOiBcInN0cm9uZ2VzdFwiLCBiZXRhOiAwLjI4IH1cbl07XG5cbi8vIOWkuemAvOWHveaVsFxuZnVuY3Rpb24gY2xhbXAodmFsdWU6IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWx1ZSkpO1xufVxuXG4vLyDlm5voiI3kupTlhaXliLDmnIDov5HnmoTmraXplb9cbmZ1bmN0aW9uIHJvdW5kVG9TdGVwKHZhbHVlOiBudW1iZXIsIHN0ZXA6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlIC8gc3RlcCkgKiBzdGVwO1xufVxuXG4vLyDorqHnrpdQbGFuIELmmKDlsITnmoTmlYjnlKjlupXnur9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVVdGlsaXR5Rmxvb3JzKG5lZ290aWF0aW9uQnJlYWtkb3duQ29zdD86IG51bWJlciwgbG9jYWxNaW5pbXVtV2FnZT86IG51bWJlciwgd29ya2VySWRlYWw/OiBudW1iZXIsIHdvcmtlck1pbmltdW0/OiBudW1iZXIpIHtcbiAgY29uc3QgeyB3X0VfaWRlYWwgfSA9IENPTlNUQU5UUztcbiAgXG4gIC8vIOS9v+eUqOWKqOaAgeWPguaVsOaIlum7mOiupOWAvFxuICBjb25zdCB3X0VfbWF4ID0gbmVnb3RpYXRpb25CcmVha2Rvd25Db3N0IHx8IENPTlNUQU5UUy53X0VfbWF4O1xuICBjb25zdCBlbXBsb3llcl9mYWxsYmFja19jb3N0ID0gbmVnb3RpYXRpb25CcmVha2Rvd25Db3N0IHx8IENPTlNUQU5UUy5lbXBsb3llcl9mYWxsYmFja19jb3N0X21vbmV5O1xuICBjb25zdCB3b3JrZXJfZmFsbGJhY2tfaW5jb21lID0gbG9jYWxNaW5pbXVtV2FnZSB8fCBDT05TVEFOVFMud29ya2VyX2ZhbGxiYWNrX2luY29tZV9tb25leTtcbiAgY29uc3Qgd19XX21pbiA9IHdvcmtlck1pbmltdW0gfHwgQ09OU1RBTlRTLndfV19taW47XG4gIGNvbnN0IHdfV19pZGVhbCA9IHdvcmtlcklkZWFsIHx8IENPTlNUQU5UUy53X1dfaWRlYWw7XG4gIFxuICBjb25zdCB1RTBfcmF3ID0gMC4xICsgMC45ICogKHdfRV9tYXggLSBlbXBsb3llcl9mYWxsYmFja19jb3N0KSAvICh3X0VfbWF4IC0gd19FX2lkZWFsKTtcbiAgY29uc3QgdVcwX3JhdyA9IDAuMSArIDAuOSAqICh3b3JrZXJfZmFsbGJhY2tfaW5jb21lIC0gd19XX21pbikgLyAod19XX2lkZWFsIC0gd19XX21pbik7XG4gIFxuICBjb25zdCB1X0UwID0gY2xhbXAodUUwX3JhdywgMC4xLCAwLjkpO1xuICBjb25zdCB1X1cwID0gY2xhbXAodVcwX3JhdywgMC4xLCAwLjkpO1xuICBcbiAgcmV0dXJuIHsgdV9FMCwgdV9XMCB9O1xufVxuXG4vLyDpm4fkuLvmlYjnlKjlh73mlbBcbmV4cG9ydCBmdW5jdGlvbiB1dGlsaXR5RW1wbG95ZXIodzogbnVtYmVyLCBuZWdvdGlhdGlvbkJyZWFrZG93bkNvc3Q/OiBudW1iZXIpOiBudW1iZXIge1xuICBjb25zdCB7IHdfRV9pZGVhbCB9ID0gQ09OU1RBTlRTO1xuICBjb25zdCB3X0VfbWF4ID0gbmVnb3RpYXRpb25CcmVha2Rvd25Db3N0IHx8IENPTlNUQU5UUy53X0VfbWF4O1xuICByZXR1cm4gY2xhbXAoMC4xICsgMC45ICogKHdfRV9tYXggLSB3KSAvICh3X0VfbWF4IC0gd19FX2lkZWFsKSwgMCwgMSk7XG59XG5cbi8vIOW3peS6uuaViOeUqOWHveaVsFxuZXhwb3J0IGZ1bmN0aW9uIHV0aWxpdHlXb3JrZXIodzogbnVtYmVyLCB3b3JrZXJJZGVhbD86IG51bWJlciwgd29ya2VyTWluaW11bT86IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IHdfV19taW4gPSB3b3JrZXJNaW5pbXVtIHx8IENPTlNUQU5UUy53X1dfbWluO1xuICBjb25zdCB3X1dfaWRlYWwgPSB3b3JrZXJJZGVhbCB8fCBDT05TVEFOVFMud19XX2lkZWFsO1xuICByZXR1cm4gY2xhbXAoMC4xICsgMC45ICogKHcgLSB3X1dfbWluKSAvICh3X1dfaWRlYWwgLSB3X1dfbWluKSwgMCwgMSk7XG59XG5cbi8vIE5hc2josIjliKTop6NcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVOYXNoU29sdXRpb24oYmV0YTogbnVtYmVyLCB1X0UwOiBudW1iZXIsIHVfVzA6IG51bWJlciwgbmVnb3RpYXRpb25CcmVha2Rvd25Db3N0PzogbnVtYmVyLCB3b3JrZXJJZGVhbD86IG51bWJlciwgd29ya2VyTWluaW11bT86IG51bWJlcik6IG51bWJlciB8IG51bGwge1xuICBjb25zdCB7IGZlYXNpYmxlX21pbiwgZ3JpZF9zdGVwIH0gPSBDT05TVEFOVFM7XG4gIC8vIOWKqOaAgeiwg+aVtOaQnOe0ouS4iumZkO+8jOiAg+iZkeeUqOaIt+i+k+WFpeeahOWPguaVsFxuICBjb25zdCB3X0VfbWF4ID0gbmVnb3RpYXRpb25CcmVha2Rvd25Db3N0IHx8IENPTlNUQU5UUy53X0VfbWF4O1xuICBjb25zdCB3X1dfaWRlYWwgPSB3b3JrZXJJZGVhbCB8fCBDT05TVEFOVFMud19XX2lkZWFsO1xuICBjb25zdCBkeW5hbWljTWF4ID0gTWF0aC5tYXgoQ09OU1RBTlRTLmZlYXNpYmxlX21heCwgd19FX21heCwgd19XX2lkZWFsKTtcbiAgXG4gIGxldCBiZXN0V2FnZSA9IGZlYXNpYmxlX21pbjtcbiAgbGV0IG1heE9iamVjdGl2ZSA9IC1JbmZpbml0eTtcbiAgbGV0IGhhc1ZhbGlkU29sdXRpb24gPSBmYWxzZTtcbiAgXG4gIGZvciAobGV0IHcgPSBmZWFzaWJsZV9taW47IHcgPD0gZHluYW1pY01heDsgdyArPSBncmlkX3N0ZXApIHtcbiAgICBjb25zdCB1X0UgPSB1dGlsaXR5RW1wbG95ZXIodywgbmVnb3RpYXRpb25CcmVha2Rvd25Db3N0KTtcbiAgICBjb25zdCB1X1cgPSB1dGlsaXR5V29ya2VyKHcsIHdvcmtlcklkZWFsLCB3b3JrZXJNaW5pbXVtKTtcbiAgICBcbiAgICAvLyDot7Pov4fml6DmlYjljLrln59cbiAgICBpZiAodV9FIDw9IHVfRTAgfHwgdV9XIDw9IHVfVzApIGNvbnRpbnVlO1xuICAgIFxuICAgIGhhc1ZhbGlkU29sdXRpb24gPSB0cnVlO1xuICAgIGNvbnN0IG9iamVjdGl2ZSA9IE1hdGgucG93KHVfRSAtIHVfRTAsIGJldGEpICogTWF0aC5wb3codV9XIC0gdV9XMCwgMSAtIGJldGEpO1xuICAgIFxuICAgIGlmIChvYmplY3RpdmUgPiBtYXhPYmplY3RpdmUpIHtcbiAgICAgIG1heE9iamVjdGl2ZSA9IG9iamVjdGl2ZTtcbiAgICAgIGJlc3RXYWdlID0gdztcbiAgICB9IGVsc2UgaWYgKG9iamVjdGl2ZSA9PT0gbWF4T2JqZWN0aXZlKSB7XG4gICAgICAvLyDlpoLmnpznm67moIflh73mlbDnm7jnrYnvvIzpgInmi6nmm7TmjqXov5HljLrpl7TkuK3ngrnnmoRcbiAgICAgIGNvbnN0IG1pZHBvaW50ID0gKGZlYXNpYmxlX21pbiArIGR5bmFtaWNNYXgpIC8gMjtcbiAgICAgIGlmIChNYXRoLmFicyh3IC0gbWlkcG9pbnQpIDwgTWF0aC5hYnMoYmVzdFdhZ2UgLSBtaWRwb2ludCkpIHtcbiAgICAgICAgYmVzdFdhZ2UgPSB3O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgLy8g5aaC5p6c5rKh5pyJ5om+5Yiw5pyJ5pWI6Kej77yM6L+U5ZuebnVsbFxuICBpZiAoIWhhc1ZhbGlkU29sdXRpb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBcbiAgcmV0dXJuIGJlc3RXYWdlO1xufVxuXG4vLyDorqHnrpflt6XkurrlupXnur/lt6XotYRcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVXb3JrZXJXYWxrQXdheSh1X1cwOiBudW1iZXIsIHdvcmtlcklkZWFsPzogbnVtYmVyLCB3b3JrZXJNaW5pbXVtPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgeyBmZWFzaWJsZV9taW4sIGZlYXNpYmxlX21heCwgZ3JpZF9zdGVwIH0gPSBDT05TVEFOVFM7XG4gIGNvbnN0IHdfV19taW4gPSB3b3JrZXJNaW5pbXVtIHx8IENPTlNUQU5UUy53X1dfbWluO1xuICBjb25zdCB3X1dfaWRlYWwgPSB3b3JrZXJJZGVhbCB8fCBDT05TVEFOVFMud19XX2lkZWFsO1xuICBcbiAgY29uc3Qgd19XQV9yYXcgPSB3X1dfbWluICsgKCh1X1cwIC0gMC4xKSAvIDAuOSkgKiAod19XX2lkZWFsIC0gd19XX21pbik7XG4gIGNvbnN0IHdfV0FfY2xhbXBlZCA9IGNsYW1wKHdfV0FfcmF3LCBmZWFzaWJsZV9taW4sIGZlYXNpYmxlX21heCk7XG4gIFxuICByZXR1cm4gcm91bmRUb1N0ZXAod19XQV9jbGFtcGVkLCBncmlkX3N0ZXApO1xufVxuXG4vLyDorqHnrpfpm4fkuLvml6Dlt67lvILkuIrpmZBcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVFbXBsb3llckNlaWxpbmcodV9FMDogbnVtYmVyLCBuZWdvdGlhdGlvbkJyZWFrZG93bkNvc3Q/OiBudW1iZXIpOiBudW1iZXIge1xuICBjb25zdCB7IHdfRV9pZGVhbCwgZmVhc2libGVfbWluLCBncmlkX3N0ZXAgfSA9IENPTlNUQU5UUztcbiAgY29uc3Qgd19FX21heCA9IG5lZ290aWF0aW9uQnJlYWtkb3duQ29zdCB8fCBDT05TVEFOVFMud19FX21heDtcbiAgXG4gIGNvbnN0IHdfRU1QX3JhdyA9IHdfRV9tYXggLSAoKHVfRTAgLSAwLjEpIC8gMC45KSAqICh3X0VfbWF4IC0gd19FX2lkZWFsKTtcbiAgLy8g5L2/55So5Yqo5oCB5LiK6ZmQ77yM5LiN6ZmQ5Yi25Zyo5Zu65a6a55qEZmVhc2libGVfbWF4XG4gIGNvbnN0IGR5bmFtaWNNYXggPSBNYXRoLm1heChDT05TVEFOVFMuZmVhc2libGVfbWF4LCB3X0VfbWF4KTtcbiAgY29uc3Qgd19FTVBfY2xhbXBlZCA9IGNsYW1wKHdfRU1QX3JhdywgZmVhc2libGVfbWluLCBkeW5hbWljTWF4KTtcbiAgXG4gIHJldHVybiByb3VuZFRvU3RlcCh3X0VNUF9jbGFtcGVkLCBncmlkX3N0ZXApO1xufVxuXG4vLyDorqHnrpdaT1BBXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlWk9QQSh3X1dBOiBudW1iZXIsIHdfRU1QOiBudW1iZXIpOiB7IG1pbjogbnVtYmVyOyBtYXg6IG51bWJlcjsgdmFsaWQ6IGJvb2xlYW4gfSB7XG4gIGNvbnN0IHsgZmVhc2libGVfbWluIH0gPSBDT05TVEFOVFM7XG4gIFxuICBjb25zdCB6b3BhX21pbiA9IE1hdGgubWF4KGZlYXNpYmxlX21pbiwgd19XQSk7XG4gIC8vIOS4jemZkOWItlpPUEHkuIrpmZDlnKjlm7rlrprnmoRmZWFzaWJsZV9tYXjvvIzlhYHorrjmoLnmja53X0VNUOWKqOaAgeiwg+aVtFxuICBjb25zdCB6b3BhX21heCA9IHdfRU1QO1xuICBcbiAgcmV0dXJuIHtcbiAgICBtaW46IHpvcGFfbWluLFxuICAgIG1heDogem9wYV9tYXgsXG4gICAgdmFsaWQ6IHpvcGFfbWluIDw9IHpvcGFfbWF4XG4gIH07XG59XG5cbi8vIOiuoeeul+W3peS6uumUmueCueS7t+agvFxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVdvcmtlckFuY2hvcih3X25hc2g6IG51bWJlciwgd19FTVA6IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IHsgZ3JpZF9zdGVwIH0gPSBDT05TVEFOVFM7XG4gIFxuICBjb25zdCB3X2FuY2hvcl9yYXcgPSBNYXRoLm1pbih3X25hc2ggKyAwLjA4ICogKHdfRU1QIC0gd19uYXNoKSwgd19FTVApO1xuICByZXR1cm4gcm91bmRUb1N0ZXAod19hbmNob3JfcmF3LCBncmlkX3N0ZXApO1xufVxuXG4vLyDorqHnrpfmnJ/mnJvljLrpl7RcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVBc3BpcmF0aW9uQmFuZCh3X25hc2g6IG51bWJlciwgd19XQTogbnVtYmVyLCB3X0VNUDogbnVtYmVyKTogeyB0b3A6IG51bWJlcjsgZmxvb3I6IG51bWJlciB9IHtcbiAgY29uc3QgeyBncmlkX3N0ZXAgfSA9IENPTlNUQU5UUztcbiAgXG4gIGNvbnN0IHdfdG9wX3JhdyA9IE1hdGgubWluKHdfbmFzaCArIDAuMTUgKiAod19FTVAgLSB3X1dBKSwgd19FTVApO1xuICBjb25zdCB3X2Zsb29yX3JhdyA9IE1hdGgubWF4KHdfV0EsIHdfbmFzaCAtIDAuMDUgKiAod19uYXNoIC0gd19XQSkpO1xuICBcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHJvdW5kVG9TdGVwKHdfdG9wX3JhdywgZ3JpZF9zdGVwKSxcbiAgICBmbG9vcjogcm91bmRUb1N0ZXAod19mbG9vcl9yYXcsIGdyaWRfc3RlcClcbiAgfTtcbn1cblxuLy8g5Li76K6h566X5Ye95pWwXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlTmVnb3RpYXRpb25QbGFuKHBvbGljeVZhbHVlOiBzdHJpbmcsIGN1c3RvbUFzaz86IG51bWJlciwgbmVnb3RpYXRpb25CcmVha2Rvd25Db3N0PzogbnVtYmVyLCBsb2NhbE1pbmltdW1XYWdlPzogbnVtYmVyLCB3b3JrZXJJZGVhbD86IG51bWJlciwgd29ya2VyTWluaW11bT86IG51bWJlcikge1xuICBjb25zdCBwb2xpY3kgPSBQT0xJQ1lfT1BUSU9OUy5maW5kKHAgPT4gcC52YWx1ZSA9PT0gcG9saWN5VmFsdWUpIHx8IFBPTElDWV9PUFRJT05TWzJdO1xuICBjb25zdCBiZXRhID0gcG9saWN5LmJldGE7XG4gIFxuICBjb25zdCB7IHVfRTAsIHVfVzAgfSA9IGNhbGN1bGF0ZVV0aWxpdHlGbG9vcnMobmVnb3RpYXRpb25CcmVha2Rvd25Db3N0LCBsb2NhbE1pbmltdW1XYWdlLCB3b3JrZXJJZGVhbCwgd29ya2VyTWluaW11bSk7XG4gIFxuICBjb25zdCB3X1dBID0gY2FsY3VsYXRlV29ya2VyV2Fsa0F3YXkodV9XMCwgd29ya2VySWRlYWwsIHdvcmtlck1pbmltdW0pO1xuICBjb25zdCB3X0VNUCA9IGNhbGN1bGF0ZUVtcGxveWVyQ2VpbGluZyh1X0UwLCBuZWdvdGlhdGlvbkJyZWFrZG93bkNvc3QpO1xuICBjb25zdCB6b3BhID0gY2FsY3VsYXRlWk9QQSh3X1dBLCB3X0VNUCk7XG4gIFxuICBjb25zdCB3X25hc2ggPSBjYWxjdWxhdGVOYXNoU29sdXRpb24oYmV0YSwgdV9FMCwgdV9XMCwgbmVnb3RpYXRpb25CcmVha2Rvd25Db3N0LCB3b3JrZXJJZGVhbCwgd29ya2VyTWluaW11bSk7XG4gIFxuICAvLyDmo4Dmn6XmmK/lkKbmnIlOYXNo6KejXG4gIGlmICh3X25hc2ggPT09IG51bGwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcG9saWN5LFxuICAgICAgYmV0YSxcbiAgICAgIHVfRTAsXG4gICAgICB1X1cwLFxuICAgICAgd19uYXNoOiBudWxsLFxuICAgICAgd19hbmNob3I6IG51bGwsXG4gICAgICB3X1dBLFxuICAgICAgd19FTVAsXG4gICAgICB6b3BhLFxuICAgICAgYXNwaXJhdGlvbkJhbmQ6IG51bGwsXG4gICAgICBjb2VmZmljaWVudHM6IHtcbiAgICAgICAgY19uYXNoOiBudWxsLFxuICAgICAgICBjX2FuY2hvcjogbnVsbCxcbiAgICAgICAgY19hc2s6IGN1c3RvbUFzayA/IGN1c3RvbUFzayAvIENPTlNUQU5UUy5iYXNlIDogdW5kZWZpbmVkXG4gICAgICB9LFxuICAgICAgY3VzdG9tQXNrLFxuICAgICAgaGFzVmFsaWRTb2x1dGlvbjogZmFsc2UsXG4gICAgICBlcnJvck1lc3NhZ2U6IFwi5bel6LWE5pyf5pyb6L+H6auY77yM6ZuH5Li75pWI55So5LiN6Laz77yMTmFzaOino+S4jeWtmOWcqFwiXG4gICAgfTtcbiAgfVxuICBcbiAgY29uc3Qgd19hbmNob3IgPSBjYWxjdWxhdGVXb3JrZXJBbmNob3Iod19uYXNoLCB3X0VNUCk7XG4gIGNvbnN0IGFzcGlyYXRpb25CYW5kID0gY2FsY3VsYXRlQXNwaXJhdGlvbkJhbmQod19uYXNoLCB3X1dBLCB3X0VNUCk7XG4gIFxuICAvLyDovazmjaLkuLrliqDnj63ns7vmlbBcbiAgY29uc3QgY19uYXNoID0gd19uYXNoIC8gQ09OU1RBTlRTLmJhc2U7XG4gIGNvbnN0IGNfYW5jaG9yID0gd19hbmNob3IgLyBDT05TVEFOVFMuYmFzZTtcbiAgY29uc3QgY19hc2sgPSBjdXN0b21Bc2sgPyBjdXN0b21Bc2sgLyBDT05TVEFOVFMuYmFzZSA6IHVuZGVmaW5lZDtcbiAgXG4gIHJldHVybiB7XG4gICAgcG9saWN5LFxuICAgIGJldGEsXG4gICAgdV9FMCxcbiAgICB1X1cwLFxuICAgIHdfbmFzaCxcbiAgICB3X2FuY2hvcixcbiAgICB3X1dBLFxuICAgIHdfRU1QLFxuICAgIHpvcGEsXG4gICAgYXNwaXJhdGlvbkJhbmQsXG4gICAgY29lZmZpY2llbnRzOiB7XG4gICAgICBjX25hc2gsXG4gICAgICBjX2FuY2hvcixcbiAgICAgIGNfYXNrXG4gICAgfSxcbiAgICBjdXN0b21Bc2ssXG4gICAgaGFzVmFsaWRTb2x1dGlvbjogdHJ1ZVxuICB9O1xufVxuXG4vLyDlm77ooajmlbDmja7nsbvlnotcbmV4cG9ydCBpbnRlcmZhY2UgQ2hhcnREYXRhUG9pbnQge1xuICB3YWdlOiBudW1iZXI7XG4gIHVfRTogbnVtYmVyO1xuICB1X1c6IG51bWJlcjtcbiAgbmFzaFByb2R1Y3Q6IG51bWJlcjtcbn1cblxuLy8g55Sf5oiQ5Zu+6KGo5pWw5o2uXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVDaGFydERhdGEodV9FMDogbnVtYmVyLCB1X1cwOiBudW1iZXIsIG5lZ290aWF0aW9uQnJlYWtkb3duQ29zdD86IG51bWJlciwgd29ya2VySWRlYWw/OiBudW1iZXIsIHdvcmtlck1pbmltdW0/OiBudW1iZXIpOiBDaGFydERhdGFQb2ludFtdIHtcbiAgLy8g5L2/55SoMTUwMOS9nOS4uljovbTljZXkvY1cbiAgY29uc3QgY2hhcnRTdGVwID0gMTUwMDtcbiAgLy8g5LuO5bel5Lq65bqV57q/5byA5aeL5pi+56S65Zu+6KGoXG4gIGNvbnN0IHdfV19taW4gPSB3b3JrZXJNaW5pbXVtIHx8IENPTlNUQU5UUy53X1dfbWluO1xuICAvLyDlsIbotbflp4vngrnosIPmlbTliLDmnIDov5HnmoQxNTAw5YCN5pWwXG4gIGNvbnN0IGNoYXJ0TWluID0gTWF0aC5mbG9vcih3X1dfbWluIC8gY2hhcnRTdGVwKSAqIGNoYXJ0U3RlcDtcbiAgXG4gIC8vIOWKqOaAgeiwg+aVtOWbvuihqOaVsOaNruiMg+WbtFxuICBjb25zdCB3X0VfbWF4ID0gbmVnb3RpYXRpb25CcmVha2Rvd25Db3N0IHx8IENPTlNUQU5UUy53X0VfbWF4O1xuICBjb25zdCB3X1dfaWRlYWwgPSB3b3JrZXJJZGVhbCB8fCBDT05TVEFOVFMud19XX2lkZWFsO1xuICBjb25zdCBkeW5hbWljTWF4ID0gTWF0aC5tYXgoQ09OU1RBTlRTLmZlYXNpYmxlX21heCwgd19FX21heCwgd19XX2lkZWFsKTtcbiAgLy8g5bCG57uT5p2f54K56LCD5pW05Yiw5pyA6L+R55qEMTUwMOWAjeaVsFxuICBjb25zdCBjaGFydE1heCA9IE1hdGguY2VpbChkeW5hbWljTWF4IC8gY2hhcnRTdGVwKSAqIGNoYXJ0U3RlcDtcbiAgY29uc3QgZGF0YTogQ2hhcnREYXRhUG9pbnRbXSA9IFtdO1xuICBcbiAgLy8g5Li65LqG5L+d5oyB5puy57q/5bmz5ruR77yM5oiR5Lus5LuN54S25L2/55So6L6D5bCP55qE5q2l6ZW/6K6h566X5pWw5o2u54K5XG4gIGNvbnN0IHsgZ3JpZF9zdGVwIH0gPSBDT05TVEFOVFM7XG4gIGZvciAobGV0IHcgPSBjaGFydE1pbjsgdyA8PSBjaGFydE1heDsgdyArPSBncmlkX3N0ZXApIHtcbiAgICBjb25zdCB1X0UgPSB1dGlsaXR5RW1wbG95ZXIodywgbmVnb3RpYXRpb25CcmVha2Rvd25Db3N0KTtcbiAgICBjb25zdCB1X1cgPSB1dGlsaXR5V29ya2VyKHcsIHdvcmtlcklkZWFsLCB3b3JrZXJNaW5pbXVtKTtcbiAgICBcbiAgICBkYXRhLnB1c2goe1xuICAgICAgd2FnZTogdyxcbiAgICAgIHVfRSxcbiAgICAgIHVfVyxcbiAgICAgIG5hc2hQcm9kdWN0OiAodV9FID4gdV9FMCAmJiB1X1cgPiB1X1cwKSA/ICh1X0UgLSB1X0UwKSAqICh1X1cgLSB1X1cwKSA6IDBcbiAgICB9KTtcbiAgfVxuICBcbiAgcmV0dXJuIGRhdGE7XG59Il0sIm5hbWVzIjpbIkNPTlNUQU5UUyIsImJhc2UiLCJ3X0VfaWRlYWwiLCJ3X0VfbWF4Iiwid19XX21pbiIsIndfV19pZGVhbCIsImZlYXNpYmxlX21pbiIsImZlYXNpYmxlX21heCIsImdyaWRfc3RlcCIsImVtcGxveWVyX2ZhbGxiYWNrX2Nvc3RfbW9uZXkiLCJ3b3JrZXJfZmFsbGJhY2tfaW5jb21lX21vbmV5IiwiUE9MSUNZX09QVElPTlMiLCJsYWJlbCIsInZhbHVlIiwiYmV0YSIsImNsYW1wIiwibWluIiwibWF4IiwiTWF0aCIsInJvdW5kVG9TdGVwIiwic3RlcCIsInJvdW5kIiwiY2FsY3VsYXRlVXRpbGl0eUZsb29ycyIsIm5lZ290aWF0aW9uQnJlYWtkb3duQ29zdCIsImxvY2FsTWluaW11bVdhZ2UiLCJ3b3JrZXJJZGVhbCIsIndvcmtlck1pbmltdW0iLCJlbXBsb3llcl9mYWxsYmFja19jb3N0Iiwid29ya2VyX2ZhbGxiYWNrX2luY29tZSIsInVFMF9yYXciLCJ1VzBfcmF3IiwidV9FMCIsInVfVzAiLCJ1dGlsaXR5RW1wbG95ZXIiLCJ3IiwidXRpbGl0eVdvcmtlciIsImNhbGN1bGF0ZU5hc2hTb2x1dGlvbiIsImR5bmFtaWNNYXgiLCJiZXN0V2FnZSIsIm1heE9iamVjdGl2ZSIsIkluZmluaXR5IiwiaGFzVmFsaWRTb2x1dGlvbiIsInVfRSIsInVfVyIsIm9iamVjdGl2ZSIsInBvdyIsIm1pZHBvaW50IiwiYWJzIiwiY2FsY3VsYXRlV29ya2VyV2Fsa0F3YXkiLCJ3X1dBX3JhdyIsIndfV0FfY2xhbXBlZCIsImNhbGN1bGF0ZUVtcGxveWVyQ2VpbGluZyIsIndfRU1QX3JhdyIsIndfRU1QX2NsYW1wZWQiLCJjYWxjdWxhdGVaT1BBIiwid19XQSIsIndfRU1QIiwiem9wYV9taW4iLCJ6b3BhX21heCIsInZhbGlkIiwiY2FsY3VsYXRlV29ya2VyQW5jaG9yIiwid19uYXNoIiwid19hbmNob3JfcmF3IiwiY2FsY3VsYXRlQXNwaXJhdGlvbkJhbmQiLCJ3X3RvcF9yYXciLCJ3X2Zsb29yX3JhdyIsInRvcCIsImZsb29yIiwiY2FsY3VsYXRlTmVnb3RpYXRpb25QbGFuIiwicG9saWN5VmFsdWUiLCJjdXN0b21Bc2siLCJwb2xpY3kiLCJmaW5kIiwicCIsInpvcGEiLCJ3X2FuY2hvciIsImFzcGlyYXRpb25CYW5kIiwiY29lZmZpY2llbnRzIiwiY19uYXNoIiwiY19hbmNob3IiLCJjX2FzayIsInVuZGVmaW5lZCIsImVycm9yTWVzc2FnZSIsImdlbmVyYXRlQ2hhcnREYXRhIiwiY2hhcnRTdGVwIiwiY2hhcnRNaW4iLCJjaGFydE1heCIsImNlaWwiLCJkYXRhIiwicHVzaCIsIndhZ2UiLCJuYXNoUHJvZHVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/calculations.ts\n"));

/***/ })

});